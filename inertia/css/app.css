@import "tailwindcss";

/* Use class strategy for dark mode via .dark on an ancestor */

/* Register color tokens with Tailwind (v4) so utilities like border-line, text-neutral-high work */
@theme {
  --color-standout: var(--color-indigo-600);
  --color-on-standout: var(--color-white);
  --color-neutral-low: var(--color-slate-400);
  --color-neutral-medium: var(--color-slate-600);
  --color-neutral-high: var(--color-slate-900);
  --color-backdrop-low: var(--color-slate-50);
  --color-backdrop-medium: var(--color-slate-100);
  --color-backdrop-high: var(--color-slate-200);
  --color-line: var(--color-slate-500);
  --color-placeholder: var(--color-slate-400);
  --color-disabled: var(--color-slate-300);
}

/**
 * Theme variables (no numeric scales). These are consumed by Tailwind via
 * tailwind.config.js color names (e.g., bg-backdrop-low, text-neutral-high).
 */
[data-theme="admin"] {
  --color-standout: var(--color-indigo-600);
  --color-on-standout: var(--color-white);

  --color-neutral-low: var(--color-slate-400);
  --color-neutral-medium: var(--color-slate-600);
  --color-neutral-high: var(--color-slate-900);

  --color-backdrop-low: var(--color-slate-50);
  --color-backdrop-medium: var(--color-slate-100);
  --color-backdrop-high: var(--color-slate-200);

  --color-line: var(--color-slate-500);
  --color-placeholder: var(--color-slate-400);
  --color-disabled: var(--color-slate-300);
}

[data-theme="admin"].dark {
  --color-standout: var(--color-indigo-400);
  --color-on-standout: var(--color-white);

  --color-neutral-low: var(--color-slate-400);
  --color-neutral-medium: var(--color-slate-500);
  --color-neutral-high: var(--color-slate-200);

  --color-backdrop-low: var(--color-slate-900);
  --color-backdrop-medium: var(--color-slate-800);
  --color-backdrop-high: var(--color-slate-700);

  --color-line: var(--color-slate-500);
  --color-placeholder: var(--color-slate-500);
  --color-disabled: var(--color-slate-600);
}

[data-theme="site"] {
  --color-standout: var(--color-violet-600);
  --color-on-standout: var(--color-white);

  --color-neutral-low: var(--color-stone-400);
  --color-neutral-medium: var(--color-stone-600);
  --color-neutral-high: var(--color-stone-900);

  --color-backdrop-low: var(--color-stone-50);
  --color-backdrop-medium: var(--color-stone-100);
  --color-backdrop-high: var(--color-stone-200);

  --color-line: var(--color-stone-500);
  --color-placeholder: var(--color-stone-500);
  --color-disabled: var(--color-stone-300);
}

[data-theme="site"].dark {
  --color-standout: var(--color-violet-400);
  --color-on-standout: var(--color-white);

  --color-neutral-low: var(--color-stone-400);
  --color-neutral-medium: var(--color-stone-500);
  --color-neutral-high: var(--color-stone-200);

  --color-backdrop-low: var(--color-stone-900);
  --color-backdrop-medium: var(--color-stone-800);
  --color-backdrop-high: var(--color-stone-700);

  --color-line: var(--color-stone-500);
  --color-placeholder: var(--color-stone-500);
  --color-disabled: var(--color-stone-600);
}

/* Base defaults */
@layer base {
  body {
    background-color: var(--color-backdrop-low);
    color: var(--color-neutral-high);
  }

  .dark body {
    background-color: var(--color-backdrop-low);
    color: var(--color-neutral-high);
  }
}

/* Utilities (kept minimal; prefer Tailwind color classes) */
@layer utilities {
  .text-body {
    color: var(--color-neutral-high);
  }

  .text-muted {
    color: var(--color-neutral-low);
  }

  .bg-surface {
    background-color: var(--color-backdrop-low);
  }

  .border-surface {
    border-color: var(--color-line);
  }

  .text-standout {
    color: var(--color-standout);
  }

  .btn-primary {
    background-color: var(--color-standout);
    color: var(--color-on-standout);
  }

  .btn-primary:disabled {
    opacity: 0.6;
  }

  .placeholder-muted::placeholder {
    color: var(--color-placeholder);
  }

  .text-disabled {
    color: var(--color-disabled);
  }

  .ring-standout {
    --tw-ring-color: var(--color-standout);
  }
}